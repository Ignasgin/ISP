@page
@model ISP.Pages.Reserve
@{
    ViewData["Title"] = "Rezevacija";
}

<div class="container">
    <h1>Rezervuoti automobilį</h1>

    <form id="reservationForm" method="get" action="/Pay">
        <div class="form-group">
            <label>Markė</label>
            <textarea asp-for="Make" class="form-control" disabled></textarea>
        </div>

        <div class="form-group">
            <label>Kaina</label>
            <textarea asp-for="Price" class="form-control" disabled></textarea>
        </div>

        <div class="form-group">
            <label>Pradžios data</label>
            <input asp-for="StartDate" class="form-control"></input>
        </div>

        <div class="form-group">
            <label>Pabaigos Data</label>
            <input asp-for="EndDate" class="form-control"></input>
        </div>

        <div class="form-group">
            <label>Trumpalaikė rezervacija</label>
            <input asp-for="ShortTime" id="shortTimeCheckbox"></input>
        </div>

        <button type="submit" class="btn btn-primary">Rezervuoti</button>
        <a href="/Cars" class="btn btn-secondary">Atšaukti</a>
    </form>
</div>

<script>
    const checkbox = document.getElementById('shortTimeCheckbox');
    const reservationForm = document.getElementById('reservationForm');

    checkbox.addEventListener('change', () => {
        if (checkbox.checked) reservationForm.action = "/Reservations";
        else reservationForm.action = "/Pay";
    })
</script>